[{"config_schema":{"additionalProperties":false,"properties":{"allow_logical":{"default":true,"description":"Allow logical trigger timestamps in comparisons.","type":"boolean"}},"type":"object"},"description":"Deterministic predicates derived from the trigger timestamp supplied by the caller.","name":"Time Provider","notes":["Deterministic: no wall-clock reads, only trigger timestamps.","Supports unix_millis and logical trigger timestamps."],"predicates":[{"allowed_comparators":["equals","not_equals","greater_than","greater_than_or_equal","less_than","less_than_or_equal","in_set","exists","not_exists"],"anchor_types":["trigger_time_unix_millis","trigger_time_logical"],"content_types":["application/json"],"description":"Return the trigger timestamp as a JSON number.","determinism":"time_dependent","examples":[{"description":"Return trigger time.","params":{},"result":1710000000000}],"name":"now","params_required":false,"params_schema":{"additionalProperties":false,"description":"No parameters required.","properties":{},"type":"object"},"result_schema":{"type":"integer"}},{"allowed_comparators":["equals","not_equals","in_set","exists","not_exists"],"anchor_types":["trigger_time_unix_millis","trigger_time_logical"],"content_types":["application/json"],"description":"Return true if trigger time is after the threshold.","determinism":"time_dependent","examples":[{"description":"Trigger time after threshold.","params":{"timestamp":1710000000000},"result":true}],"name":"after","params_required":true,"params_schema":{"additionalProperties":false,"properties":{"timestamp":{"description":"Unix millis number or RFC3339 timestamp string.","oneOf":[{"type":"integer"},{"type":"string"}]}},"required":["timestamp"],"type":"object"},"result_schema":{"type":"boolean"}},{"allowed_comparators":["equals","not_equals","in_set","exists","not_exists"],"anchor_types":["trigger_time_unix_millis","trigger_time_logical"],"content_types":["application/json"],"description":"Return true if trigger time is before the threshold.","determinism":"time_dependent","examples":[{"description":"Trigger time before threshold.","params":{"timestamp":"2024-01-01T00:00:00Z"},"result":false}],"name":"before","params_required":true,"params_schema":{"additionalProperties":false,"properties":{"timestamp":{"description":"Unix millis number or RFC3339 timestamp string.","oneOf":[{"type":"integer"},{"type":"string"}]}},"required":["timestamp"],"type":"object"},"result_schema":{"type":"boolean"}}],"provider_id":"time","transport":"builtin"},{"config_schema":{"additionalProperties":false,"properties":{"allowlist":{"description":"Optional allowlist of environment keys.","items":{"type":"string"},"type":"array"},"denylist":{"default":[],"description":"Explicit denylist of environment keys.","items":{"type":"string"},"type":"array"},"max_key_bytes":{"default":255,"description":"Maximum bytes allowed for an environment key.","minimum":0,"type":"integer"},"max_value_bytes":{"default":65536,"description":"Maximum bytes allowed for an environment value.","minimum":0,"type":"integer"},"overrides":{"additionalProperties":{"type":"string"},"description":"Optional deterministic override map for env lookups.","type":"object"}},"type":"object"},"description":"Reads process environment variables with allow/deny policy and size limits.","name":"Environment Provider","notes":["Returns null when a key is missing or blocked by policy.","Size limits apply to both key and value."],"predicates":[{"allowed_comparators":["equals","not_equals","contains","in_set","exists","not_exists"],"anchor_types":["env"],"content_types":["text/plain"],"description":"Fetch an environment variable by key.","determinism":"external","examples":[{"description":"Read DEPLOY_ENV.","params":{"key":"DEPLOY_ENV"},"result":"production"}],"name":"get","params_required":true,"params_schema":{"additionalProperties":false,"properties":{"key":{"description":"Environment variable key.","type":"string"}},"required":["key"],"type":"object"},"result_schema":{"oneOf":[{"type":"string"},{"type":"null"}]}}],"provider_id":"env","transport":"builtin"},{"config_schema":{"additionalProperties":false,"properties":{"allow_yaml":{"default":true,"description":"Allow YAML parsing for .yaml/.yml files.","type":"boolean"},"max_bytes":{"default":1048576,"description":"Maximum file size in bytes.","minimum":0,"type":"integer"},"root":{"description":"Optional root directory for file resolution.","type":"string"}},"type":"object"},"description":"Reads JSON or YAML files and evaluates JSONPath queries against them.","name":"JSON Provider","notes":["File access is constrained by root policy and size limits.","JSONPath is optional; omitted means the full document."],"predicates":[{"allowed_comparators":["equals","not_equals","exists","not_exists"],"anchor_types":["file_path"],"content_types":["application/json","application/yaml"],"description":"Select values via JSONPath from a JSON/YAML file.","determinism":"external","examples":[{"description":"Read version from config.json.","params":{"file":"/etc/config.json","jsonpath":"$.version"},"result":"1.2.3"},{"description":"Return full document when jsonpath is omitted.","params":{"file":"/etc/config.json"},"result":{"version":"1.2.3"}}],"name":"path","params_required":true,"params_schema":{"additionalProperties":false,"properties":{"file":{"description":"Path to a JSON or YAML file.","type":"string"},"jsonpath":{"description":"Optional JSONPath selector.","type":"string"}},"required":["file"],"type":"object"},"result_schema":{"oneOf":[{"description":"JSONPath result."},{"type":"null"}]}}],"provider_id":"json","transport":"builtin"},{"config_schema":{"additionalProperties":false,"properties":{"allow_http":{"default":false,"description":"Allow cleartext http:// URLs.","type":"boolean"},"allowed_hosts":{"description":"Optional allowlist of hostnames.","items":{"type":"string"},"type":"array"},"hash_algorithm":{"default":"sha256","description":"Hash algorithm used for body_hash responses.","enum":["sha256"],"type":"string"},"max_response_bytes":{"default":1048576,"description":"Maximum response size in bytes.","minimum":0,"type":"integer"},"timeout_ms":{"default":5000,"description":"Request timeout in milliseconds.","minimum":0,"type":"integer"},"user_agent":{"default":"decision-gate/0.1","description":"User agent string for outbound requests.","type":"string"}},"type":"object"},"description":"Issues bounded HTTP GET requests and returns status codes or body hashes.","name":"HTTP Provider","notes":["Scheme and host allowlists are enforced by configuration.","Responses are size-limited and hashed deterministically."],"predicates":[{"allowed_comparators":["equals","not_equals","greater_than","greater_than_or_equal","less_than","less_than_or_equal","in_set","exists","not_exists"],"anchor_types":["url"],"content_types":["application/json"],"description":"Return HTTP status code for a URL.","determinism":"external","examples":[{"description":"Fetch status for a health endpoint.","params":{"url":"https://api.example.com/health"},"result":200}],"name":"status","params_required":true,"params_schema":{"additionalProperties":false,"properties":{"url":{"description":"URL to query.","type":"string"}},"required":["url"],"type":"object"},"result_schema":{"type":"integer"}},{"allowed_comparators":["exists","not_exists"],"anchor_types":["url"],"content_types":["application/json"],"description":"Return a hash of the response body.","determinism":"external","examples":[{"description":"Hash the body of a health endpoint.","params":{"url":"https://api.example.com/health"},"result":{"algorithm":"sha256","value":"7b4d0d3d16c8f85f67ad79b0870a2c9f1e88924c4cbb4ed4bb7f5c6a1d1b7f9a"}}],"name":"body_hash","params_required":true,"params_schema":{"additionalProperties":false,"properties":{"url":{"description":"URL to query.","type":"string"}},"required":["url"],"type":"object"},"result_schema":{"additionalProperties":false,"properties":{"algorithm":{"enum":["sha256"],"type":"string"},"value":{"description":"Lowercase hex digest.","type":"string"}},"required":["algorithm","value"],"type":"object"}}],"provider_id":"http","transport":"builtin"}]