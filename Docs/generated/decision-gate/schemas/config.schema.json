{"$id":"decision-gate://contract/schemas/config.schema.json","$schema":"https://json-schema.org/draft/2020-12/schema","additionalProperties":false,"description":"Configuration for the Decision Gate MCP server and providers.","properties":{"evidence":{"additionalProperties":false,"properties":{"allow_raw_values":{"default":false,"type":"boolean"},"require_provider_opt_in":{"default":true,"type":"boolean"}},"type":"object"},"policy":{"additionalProperties":false,"properties":{"dispatch":{"default":"permit_all","enum":["permit_all","deny_all"],"type":"string"}},"type":"object"},"providers":{"default":[],"items":{"additionalProperties":false,"allOf":[{"if":{"properties":{"type":{"const":"mcp"}}},"then":{"anyOf":[{"required":["command"]},{"required":["url"]}],"required":["capabilities_path"]}}],"properties":{"allow_insecure_http":{"default":false,"type":"boolean"},"allow_raw":{"default":false,"type":"boolean"},"auth":{"default":null,"oneOf":[{"type":"null"},{"additionalProperties":false,"properties":{"bearer_token":{"oneOf":[{"type":"null"},{"description":"Bearer token for MCP providers.","type":"string"}]}},"type":"object"}]},"capabilities_path":{"default":null,"oneOf":[{"type":"null"},{"description":"Path to provider capability contract JSON.","type":"string"}]},"command":{"default":[],"items":{"type":"string"},"type":"array"},"config":{"description":"Provider-specific config blob.","type":["null","boolean","number","string","array","object"]},"name":{"description":"Provider identifier.","type":"string"},"trust":{"default":null,"oneOf":[{"type":"null"},{"oneOf":[{"default":"audit","enum":["audit"],"type":"string"},{"additionalProperties":false,"properties":{"require_signature":{"additionalProperties":false,"properties":{"keys":{"description":"Signature key identifiers.","items":{"type":"string"},"type":"array"}},"required":["keys"],"type":"object"}},"required":["require_signature"],"type":"object"}]}]},"type":{"enum":["builtin","mcp"],"type":"string"},"url":{"default":null,"oneOf":[{"type":"null"},{"description":"Provider HTTP URL.","type":"string"}]}},"required":["name","type"],"type":"object"},"type":"array"},"run_state_store":{"additionalProperties":false,"allOf":[{"if":{"properties":{"type":{"const":"sqlite"}}},"then":{"required":["path"]}},{"if":{"properties":{"type":{"const":"memory"}}},"then":{"properties":{"path":{"type":"null"}}}}],"properties":{"busy_timeout_ms":{"default":5000,"minimum":0,"type":"integer"},"journal_mode":{"default":"wal","enum":["wal","delete"],"type":"string"},"max_versions":{"default":null,"oneOf":[{"type":"null"},{"minimum":1,"type":"integer"}]},"path":{"default":null,"oneOf":[{"type":"null"},{"description":"Path to the SQLite run state database.","type":"string"}]},"sync_mode":{"default":"full","enum":["full","normal"],"type":"string"},"type":{"default":"memory","enum":["memory","sqlite"],"type":"string"}},"type":"object"},"server":{"additionalProperties":false,"allOf":[{"if":{"properties":{"transport":{"enum":["http","sse"]}}},"then":{"properties":{"bind":{"description":"Bind address for HTTP/SSE transport.","type":"string"}},"required":["bind"]}}],"properties":{"bind":{"default":null,"oneOf":[{"type":"null"},{"description":"Bind address for HTTP/SSE transport.","type":"string"}]},"max_body_bytes":{"default":1048576,"minimum":0,"type":"integer"},"transport":{"default":"stdio","enum":["stdio","http","sse"],"type":"string"}},"type":"object"},"trust":{"additionalProperties":false,"properties":{"default_policy":{"oneOf":[{"default":"audit","enum":["audit"],"type":"string"},{"additionalProperties":false,"properties":{"require_signature":{"additionalProperties":false,"properties":{"keys":{"description":"Signature key identifiers.","items":{"type":"string"},"type":"array"}},"required":["keys"],"type":"object"}},"required":["require_signature"],"type":"object"}]},"min_lane":{"description":"Trust lane classification for evidence.","enum":["verified","asserted"],"type":"string"}},"type":"object"}},"title":"Decision Gate MCP Configuration","type":"object"}